# Story 2.3: Simple Seat Map Viewer

## Status
Draft

## Story
**As an** attendee,  
**I want** to view a simple map of the venue with my table pre-highlighted,  
**so that** I can quickly locate where I'm sitting.

## Acceptance Criteria
1. Display pre-highlighted venue map image that can be pinched/zoomed and panned
2. Load the correct map image based on location and table assignment
3. Show back button and user profile in header, location and table info in footer
4. Simple, clean interface with minimal features
5. **TDD**: All seat map components have comprehensive unit tests (80% line coverage)
6. **TDD**: Integration tests for map interactions, data loading, and user flows (70% branch coverage)
7. **TDD**: PWA offline functionality testing for cached map data
8. **TDD**: Touch interaction testing for pinch/zoom and pan functionality

## Tasks / Subtasks
- [ ] Task 1: Create simple map viewer interface
  - [ ] Add header with back button and user profile
  - [ ] Add footer with location name and table assignment
  - [ ] Implement basic map image display with depressed viewport
- [ ] Task 2: Implement map interaction
  - [ ] Add pinch/zoom functionality
  - [ ] Add pan/drag functionality
  - [ ] Ensure smooth touch interactions
- [ ] Task 3: Implement dynamic image loading
  - [ ] Create image naming convention: `<locationName>_<tableNumber>`
  - [ ] Load appropriate pre-highlighted map image based on user's assignment
  - [ ] Handle different image file formats (jpg, png, etc.)
- [ ] Task 4: Integrate with existing pages
  - [ ] Link from home page "View seat map" buttons
  - [ ] Link from schedule page "View seat map" buttons
  - [ ] Pass current location and table assignment to map page
- [ ] Task 5: Implement TDD for seat map system (AC: 5-8)
  - [ ] Write unit tests for map components and image loading (80% line coverage)
  - [ ] Write integration tests for map interactions and user flows (70% branch coverage)
  - [ ] Write PWA offline tests for cached map data and image loading
  - [ ] Write touch interaction tests for pinch/zoom and pan functionality
  - [ ] Validate test coverage meets all thresholds
  - [ ] Update test documentation with Given-When-Then patterns

## Dev Notes
### Project Context
Simple seat map viewer that shows attendees where their assigned table is located within a specific venue/room. Each table has its own pre-highlighted map image, eliminating the need for code-based highlighting. Displays location name for context with a clean, map app-style interface.

### Technical Requirements
- **Map Technology**: Pre-highlighted static images per table
- **Image Naming**: `<locationName>_<tableNumber>` format (e.g., `GrandBallroomA_12.jpg`)
- **File Formats**: Support for jpg, png, and other standard image formats
- **Interaction**: Basic pinch/zoom and pan functionality
- **Simplicity**: Minimal UI, focus on map viewing
- **Performance**: Fast loading, smooth interactions

### Testing Standards
- **Test Framework**: Vitest + React Testing Library (TDD infrastructure established)
- **Test Location**: `src/__tests__/components/seatmap/`
- **Coverage**: 80% line, 85% function, 70% branch coverage
- **PWA Testing**: Offline map data availability and image caching
- **Touch Testing**: Pinch/zoom and pan interaction validation
- **Integration Testing**: Map loading and user navigation flows
- **Test Pattern**: Given-When-Then for all map interaction scenarios

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2024-12-19 | 1.0 | Initial story creation | Sarah (PO) |
| 2024-12-19 | 1.1 | Simplified scope - removed search, multiple session types, and complex features. Focus on simple map viewer with table highlight | Sarah (PO) |
| 2024-12-19 | 1.2 | Updated to use pre-highlighted images per table with naming convention `<locationName>_<tableNumber>`. Removed code-based highlighting overlay | Sarah (PO) |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

## QA Results
*Results from QA Agent review will be populated here*
