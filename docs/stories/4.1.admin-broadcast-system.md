# Story 4.1: Admin Broadcast System

## Status
Draft

## Story
**As an** admin,  
**I want** to send broadcast messages to attendees,  
**so that** I can communicate important updates and timing changes.

## Acceptance Criteria
1. Broadcast composer with title, message, optional link, optional countdown timer
2. Countdown timer allows setting specific minutes (5, 10, 15, 30, 60) for break reminders
3. Target audience: all attendees (cohorting for later)
4. Web Push to installed users; in-app banners fallback
5. Delivery logging and impression measurement
6. Respects user notification consent settings
7. Countdown broadcasts show live countdown in app until event occurs

## Tasks / Subtasks
- [ ] Task 1: Create broadcast composer (AC: 1, 2)
  - [ ] Design broadcast creation interface
  - [ ] Implement title and message fields
  - [ ] Add optional link functionality
  - [ ] Implement countdown timer selection
- [ ] Task 2: Implement audience targeting (AC: 3)
  - [ ] Create audience selection interface
  - [ ] Implement "all attendees" targeting
  - [ ] Add cohorting framework for future
  - [ ] Add audience preview functionality
- [ ] Task 3: Add push notification system (AC: 4)
  - [ ] Implement Web Push notifications
  - [ ] Create in-app banner fallback
  - [ ] Add notification delivery logic
  - [ ] Handle notification failures
- [ ] Task 4: Implement delivery tracking (AC: 5)
  - [ ] Create delivery logging system
  - [ ] Add impression measurement
  - [ ] Implement analytics tracking
  - [ ] Add delivery status reporting
- [ ] Task 5: Add consent management (AC: 6)
  - [ ] Implement consent checking
  - [ ] Add consent respect logic
  - [ ] Create consent reporting
  - [ ] Handle consent changes
- [ ] Task 6: Create countdown display (AC: 7)
  - [ ] Implement live countdown in app
  - [ ] Add countdown timer display
  - [ ] Create countdown completion handling
  - [ ] Add countdown persistence

## Dev Notes
### Project Context
The admin broadcast system enables conference organizers to communicate important updates, timing changes, and break reminders to all attendees in real-time.

### Technical Requirements
- **Push Notifications**: Web Push API
- **Real-time**: Live countdown timers
- **Analytics**: Delivery and impression tracking
- **Privacy**: Consent management integration

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2024-12-19 | 1.0 | Initial story creation | Sarah (PO) |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

## QA Results
*Results from QA Agent review will be populated here*
