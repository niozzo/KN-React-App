# Story 5.1: Sponsor Directory & Visibility

## Status
Draft

## Story
**As a** sponsor,  
**I want** to be discoverable through the directory and contextual badges,  
**so that** attendees can learn about my company.

## Acceptance Criteria
1. Sponsor directory with logo, name, URL
2. Integration with attendee discovery flow
3. **TDD**: All sponsor directory components have comprehensive unit tests (80% line coverage)
4. **TDD**: Integration tests for sponsor discovery and user interactions (70% branch coverage)
5. **TDD**: PWA testing for sponsor data caching and offline visibility
6. **TDD**: Performance testing (optimized for up to 20 sponsors)

## Tasks / Subtasks
- [ ] Task 1: Create sponsor directory (AC: 1)
  - [ ] Design sponsor directory interface
  - [ ] Implement sponsor listing from cache data
  - [ ] Add logo, name, and URL display
  - [ ] Handle loading and error states
- [ ] Task 2: Integrate with attendee discovery (AC: 2)
  - [ ] Connect to attendee search
  - [ ] Add sponsor context to profiles
  - [ ] Implement sponsor filtering
  - [ ] Add sponsor attendee lists
- [ ] Task 3: Implement TDD for sponsor directory system (AC: 3-6)
  - [ ] Write unit tests for sponsor directory components (80% line coverage)
  - [ ] Write integration tests for sponsor discovery and user interactions (70% branch coverage)
  - [ ] Write PWA tests for sponsor data caching and offline visibility
  - [ ] Write performance tests (optimized for up to 20 sponsors)
  - [ ] Validate test coverage meets all thresholds
  - [ ] Update test documentation with Given-When-Then patterns

## Dev Notes
### Project Context
Sponsor directory provides visibility for conference sponsors while maintaining privacy and avoiding intrusive profiling.

### Technical Requirements
- **Data Source**: kn_cache_sponsors from localStorage cache
- **Integration**: Connected to attendee discovery
- **Display**: Logo images, company name, website URL
- **Filtering**: Active sponsors only (is_active = true)
- **Ordering**: By display_order field
- **Performance**: Optimized for up to 20 sponsors

### Testing Standards
- **Test Framework**: Vitest + React Testing Library (TDD infrastructure established)
- **Test Location**: `src/__tests__/components/sponsors/`
- **Coverage**: 80% line, 70% branch coverage
- **PWA Testing**: Sponsor data caching and offline visibility
- **Performance Testing**: Data loading and display optimization for up to 20 sponsors
- **Integration Testing**: Sponsor discovery and user interaction flows
- **Test Pattern**: Given-When-Then for all sponsor directory scenarios

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2024-12-19 | 1.0 | Initial story creation | Sarah (PO) |
| 2024-12-19 | 1.1 | Added real-time search filtering requirement | Sarah (PO) |
| 2024-12-19 | 1.2 | Renumbered ACs, removed irrelevant content, updated for 20-sponsor scale | BMad Orchestrator |
| 2024-12-19 | 1.3 | Simplified scope: removed search, description, category; focused on cache data display | BMad Orchestrator |

## Dev Agent Record
*This section will be populated by the development agent during implementation*

## QA Results
*Results from QA Agent review will be populated here*
